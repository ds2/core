CREATE TABLE core_options (ID BIGINT NOT NULL, app_name VARCHAR NOT NULL, value VARCHAR(3000), description VARCHAR, encrypted BOOLEAN NOT NULL, modified_by VARCHAR, name VARCHAR NOT NULL, stage INTEGER NOT NULL, value_type INTEGER NOT NULL, created TIMESTAMP NOT NULL, modified TIMESTAMP NOT NULL, enc_data LONGVARBINARY, enc_iv LONGVARBINARY, PRIMARY KEY (ID))
CREATE TABLE core_optionvalues (ID BIGINT NOT NULL, approver VARCHAR, author VARCHAR NOT NULL, stage INTEGER NOT NULL, value VARCHAR, value_type INTEGER NOT NULL, created TIMESTAMP NOT NULL, modified TIMESTAMP NOT NULL, ctx_cluster VARCHAR, ctx_runtime_config VARCHAR, ctx_req_domain VARCHAR, ctx_server_domain VARCHAR, ctx_server_hostname VARCHAR, ctx_server_address VARCHAR, enc_data LONGVARBINARY, enc_iv LONGVARBINARY, valid_from TIMESTAMP NOT NULL, valid_to TIMESTAMP, ref_option BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE core_ctx (ID BIGINT NOT NULL, ctx_cluster VARCHAR, ctx_runtime_config VARCHAR, ctx_req_domain VARCHAR, ctx_server_domain VARCHAR, ctx_server_hostname VARCHAR, ctx_server_address VARCHAR, PRIMARY KEY (ID))
ALTER TABLE core_options ADD CONSTRAINT UNQ_core_options_0 UNIQUE (app_name, name)
ALTER TABLE core_optionvalues ADD CONSTRAINT UNQ_core_optionvalues_0 UNIQUE (ref_option, ctx_cluster, ctx_runtime_config, ctx_req_domain)
ALTER TABLE core_optionvalues ADD CONSTRAINT FK_core_optionvalues_ref_option FOREIGN KEY (ref_option) REFERENCES core_options (ID)
CREATE TABLE core_id (table_name VARCHAR(50) NOT NULL, next_id NUMERIC(38), PRIMARY KEY (table_name))
INSERT INTO core_id(table_name, next_id) values ('core_options', 0)
INSERT INTO core_id(table_name, next_id) values ('core_optionvalues', 0)
