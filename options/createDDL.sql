CREATE TABLE core_options (ID BIGINT NOT NULL, app_name VARCHAR(255) NOT NULL, value VARCHAR(3000), description VARCHAR(255), encrypted BOOLEAN NOT NULL, modified_by VARCHAR(255), name VARCHAR(255) NOT NULL, stage INTEGER NOT NULL, value_type INTEGER NOT NULL, created TIMESTAMP NOT NULL, modified TIMESTAMP NOT NULL, enc_data BYTEA, enc_iv BYTEA, PRIMARY KEY (ID))
CREATE TABLE core_ctx (ID BIGINT NOT NULL, ctx_cluster VARCHAR(255), ctx_runtime_config VARCHAR(255), ctx_req_domain VARCHAR(255), ctx_server_domain VARCHAR(255), ctx_server_hostname VARCHAR(255), ctx_server_address VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE core_optionvalues (ID BIGINT NOT NULL, approver VARCHAR(255), author VARCHAR(255) NOT NULL, stage INTEGER NOT NULL, value VARCHAR(255), value_type INTEGER NOT NULL, created TIMESTAMP NOT NULL, modified TIMESTAMP NOT NULL, ctx_cluster VARCHAR(255), ctx_runtime_config VARCHAR(255), ctx_req_domain VARCHAR(255), ctx_server_domain VARCHAR(255), ctx_server_hostname VARCHAR(255), ctx_server_address VARCHAR(255), enc_data BYTEA, enc_iv BYTEA, valid_from TIMESTAMP NOT NULL, valid_to TIMESTAMP, ref_option BIGINT NOT NULL, PRIMARY KEY (ID))
ALTER TABLE core_options ADD CONSTRAINT UNQ_core_options_0 UNIQUE (app_name, name)
ALTER TABLE core_optionvalues ADD CONSTRAINT UNQ_core_optionvalues_0 UNIQUE (ref_option, ctx_cluster, ctx_runtime_config, ctx_req_domain, ctx_server_hostname, ctx_server_domain, ctx_server_address)
ALTER TABLE core_optionvalues ADD CONSTRAINT FK_core_optionvalues_ref_option FOREIGN KEY (ref_option) REFERENCES core_options (ID)
CREATE TABLE core_id (table_name VARCHAR(50) NOT NULL, next_id DECIMAL(38), PRIMARY KEY (table_name))
INSERT INTO core_id(table_name, next_id) values ('core_options', 0)
INSERT INTO core_id(table_name, next_id) values ('core_optionvalues', 0)
